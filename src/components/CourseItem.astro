---
import { Award, ExternalLink } from "lucide-react";
import CertificateModal from "./CertificateModal";

interface Props {
    title: string;
    platform: string;
    date: string;
    link?: string;
    image?: any;
}

const { title, platform, date, link, image } = Astro.props;
---

<div
    class="flex items-baseline justify-between py-3 rounded-xl transition-colors"
>
    <div class="flex-grow">
        <h4 class="text-sm font-semibold text-zinc-900 dark:text-zinc-100">
            {title}
        </h4>
        <p class="text-[11px] text-zinc-500 dark:text-zinc-400 font-medium">
            {platform}
        </p>
    </div>

    <div class="flex items-center gap-1">
        <div class="flex items-center gap-2">
            {
                link && (
                    <a
                        href={link}
                        target="_blank"
                        class="text-zinc-300 dark:text-zinc-600 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors"
                        title="Ver credencial original"
                        aria-label={`Ver credencial original de ${title}`}
                    >
                        <ExternalLink size={14} />
                    </a>
                )
            }
            {
                image && (
                    <CertificateModal
                        client:load
                        src={image.src}
                        alt={`${title} certificate`}
                        triggerType="icon"
                    >
                        <div
                            class="text-zinc-300 dark:text-zinc-600 hover:text-amber-500 dark:hover:text-amber-400 transition-colors cursor-pointer"
                            title="Ver certificado"
                        >
                            <Award size={16} />
                        </div>
                    </CertificateModal>
                )
            }
        </div>
        <span
            class="text-[10px] font-bold text-zinc-400 dark:text-zinc-500 uppercase tracking-widest whitespace-nowrap min-w-[70px] text-right"
            >{date}</span
        >
    </div>
</div>
